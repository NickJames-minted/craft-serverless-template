Type: "AWS::CodeBuild::Project"
Properties:
  Name: "${self:service}CodeBuild"
  ServiceRole: "${self:service}CodeBuildRole"
  Artifacts:
    Type: s3
    Location: "${self:service}.build"
    Name: "${self:service}.zip"
    Description: "This codebuild deploys ${self:service}!"
  Environment:
    Image: "aws/codebuild/${self:custom.codeBuildRuntime}:${self:custom.codeBuildRuntimeVersion}"
    ComputeType: BUILD_GENERAL1_SMALL
    EnvironmentVaribles: ${self:custom.codeBuildEnvironmentVariables}
  Source:
    Auth:
      Type: OAUTH
      Resource: ${file(roles.yml):GithubIAMUser}
      Location: ${self:custom.githubRepo}
    Type: GITHUB
  TimeoutInMinutes: 15
